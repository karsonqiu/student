<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>注册</title>
    <link rel='stylesheet' type="text/css" href="./bootstrap/css/bootstrap.min.css">
    <link rel='stylesheet' type="text/css" href="./css/register.css">
</head>

<body>
    <div class="backg container-fluid">
        <div class="row h-100 justify-content-center align-items-center">
            <div class="register col-9 col-md-3">
                <h2>用户注册</h2>
                <form action="#" class="register-form">
                    <div>
                        <label for='reg-user'>用户名</label>
                        <input type="text" id="reg-user" name='reguser'>
                    </div>
                    <div>
                        <label for='reg-account'>账号</label>
                        <input type="text" id="reg-account" name='regaccount'>
                    </div>
                    <div>
                        <label for='reg-password'>密码</label>
                        <input type="password" id="reg-password" name='regpassword'>
                    </div>
                    <div>
                        <label for='reg-repeatword'>确认密码</label>
                        <input type="password" id="reg-repeatword" name='regrepeatword'>
                    </div>
                    <div class="positionr">
                        <label></label>
                        <button class="button-register">注册</button>
                        <div class="login-button">返回登陆</div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="./js/jquery-3.5.1.js"></script>
    <script type='text/javascript' src='./bootstrap/js/bootstrap.min.js'></script>
    <script type='text/javascript' src='./js/ajax.js'></script>
    <script type='text/javascript' src='./js/cookie.js'></script>
    <script>
        function register() {
            $('.login-button').click(function () {
                location.href = './login.html';
            })
            $('.button-register').click(function (e) {
                var event = e || window.event;
                event.preventDefault();
                var regUser = $('.register-form')[0].reguser.value;
                var regAccount = $('.register-form')[0].regaccount.value;
                var regPassword = $('.register-form')[0].regpassword.value;
                var regRepeatword = $('.register-form')[0].regrepeatword.value;
                if (regUser && regAccount && regPassword && regPassword && regRepeatword) {
                    var data = {
                        account: regAccount,
                        username: regUser,
                        password: regPassword,
                        rePassword: regRepeatword,
                    };

                    newAjax('POST', '/api/student/stuRegister', data, function () {
                        alert('注册成功');
                        location.href = './login.html';
                    })
                }
            })
        }
        register()
    </script>
</body>

</html>